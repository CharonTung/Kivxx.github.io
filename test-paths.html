<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路徑測試 - Kivxx</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .test-item {
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>GitHub Pages 路徑測試</h1>
        
        <div class="test-item">
            <h3>CSS 載入測試</h3>
            <p id="css-test">檢查中...</p>
        </div>
        
        <div class="test-item">
            <h3>圖片載入測試</h3>
            <img src="./photo.png" alt="測試圖片" style="max-width: 100px;" onload="document.getElementById('img-test').textContent='✅ 圖片載入成功'" onerror="document.getElementById('img-test').textContent='❌ 圖片載入失敗'">
            <p id="img-test">檢查中...</p>
        </div>
        
        <div class="test-item">
            <h3>JSON 檔案測試</h3>
            <p id="json-test">檢查中...</p>
        </div>
        
        <div class="test-item">
            <h3>當前網址</h3>
            <p id="current-url"></p>
        </div>
        
        <div class="test-item">
            <h3>建議的正確網址</h3>
            <p>如果您的 repository 名稱是 <code>kivxx.github.io</code>，網站應該部署在：</p>
            <ul>
                <li><strong>如果 repo 名稱確實是 kivxx.github.io：</strong> https://kivxx.github.io/</li>
                <li><strong>如果 repo 名稱是其他名稱：</strong> https://kivxx.github.io/[repository-name]/</li>
            </ul>
        </div>
    </div>

    <script>
        // 檢查當前網址
        document.getElementById('current-url').textContent = window.location.href;
        
        // 檢查 CSS 是否載入
        function checkCSSLoaded() {
            const element = document.createElement('div');
            element.style.display = 'none';
            element.className = 'test-css-class';
            document.body.appendChild(element);
            
            const computed = window.getComputedStyle(element);
            const testEl = document.getElementById('css-test');
            
            if (computed.backgroundColor !== 'rgba(0, 0, 0, 0)' || 
                computed.backgroundImage !== 'none' ||
                document.styleSheets.length > 0) {
                testEl.textContent = '✅ CSS 載入成功';
                testEl.className = 'success';
            } else {
                testEl.textContent = '❌ CSS 載入失敗';
                testEl.className = 'error';
            }
            
            document.body.removeChild(element);
        }
        
        // 測試 JSON 檔案
        async function testJSON() {
            const testEl = document.getElementById('json-test');
            try {
                const response = await fetch('./data/projects.json');
                if (response.ok) {
                    testEl.textContent = '✅ JSON 檔案載入成功';
                    testEl.className = 'success';
                } else {
                    testEl.textContent = '❌ JSON 檔案載入失敗 (HTTP ' + response.status + ')';
                    testEl.className = 'error';
                }
            } catch (error) {
                testEl.textContent = '❌ JSON 檔案載入失敗: ' + error.message;
                testEl.className = 'error';
            }
        }
        
        // 頁面載入完成後執行測試
        window.addEventListener('load', () => {
            setTimeout(checkCSSLoaded, 100);
            testJSON();
        });
    </script>
</body>
</html>
